<mvc:View controllerName="aprobadores.project2.controller.ContratoItem"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m">
  <Page id="_IDGenPage2" title="Ítems del Contrato" showFooter="true">
<content>
      <ObjectHeader id="_IDGenObjectHeader"
        title="Contrato {Ebeln}"
        icon="{path: 'EstadoLiberacion', formatter: '.formatEstadoIcon'}"
        number="{MontoTotal}" numberUnit="{Moneda}">
        <attributes>
          <ObjectAttribute id="_IDGenObjectAttribute" title="Proveedor" text="{
            parts: [
              {path: 'Lifnr'},
              {path: 'Name1'}
            ],
            formatter: '.formatProveedor'
          }"/>
          <ObjectAttribute id="_IDGenObjectAttribute1" title="Estado" text="{EstadoLiberacion}"/>
        </attributes>
        <statuses>
          <ObjectStatus id="_IDGenObjectStatus"
            text="{EstadoLiberacion}"
            state="{path: 'EstadoLiberacion', formatter: '.formatEstadoColor'}"/>
        </statuses>
      </ObjectHeader>
      <!-- Ítems -->
      <Table id="itemsList" inset="false"
           items="{ path: '/ContratoItemSet' }">
        <columns>
          <Column id="_IDGenColumn"><Text id="_IDGenText1" text="Pos"/></Column>
          <Column id="_IDGenColumn1"><Text id="_IDGenText4" text="Material"/></Column>
          <Column id="_IDGenColumn6"><Text id="_IDGenText12" text="Descripción"/></Column>
          <Column id="_IDGenColumn2"><Text id="_IDGenText5" text="Cantidad"/></Column>
          <Column id="_IDGenColumn5"><Text id="_IDGenText7" text="UM"/></Column>
          <Column id="_IDGenColumn7"><Text id="_IDGenText13" text="Precio"/></Column>
          <Column id="_IDGenColumn3"><Text id="_IDGenText6" text="Importe"/></Column>
        </columns>
        <items>
        <ColumnListItem id="_IDGenColumnListItem1">
          <cells>
          <Text id="_IDGenText8" text="{Ebelp}"/>
          <Text id="_IDGenText9" text="{Matnr}"/>
          <Text id="_IDGenText10" text="{Txz01}"/>
          <ObjectNumber id="_IDGenObjectNumber" number="{Menge}" unit="{Meins}"/>
          <Text id="_IDGenText11" text="{Meins}"/>
          <ObjectNumber id="_IDGenObjectNumber1" number="{Netpr}" unit="{Moneda}"/>
          <ObjectNumber id="_IDGenObjectNumber2" number="{Netwrpos}" unit="{Moneda}"/>
        </cells>
        </ColumnListItem>
        <!-- 
          <ColumnListItem id="_IDGenColumnListItem">
            <ObjectIdentifier id="_IDGenObjectIdentifier" title="{Ebelp}"/>
            <ObjectIdentifier id="_IDGenObjectIdentifier1" title="{Matnr}" text="{Maktx}"/>
            <ObjectNumber id="_IDGenObjectNumber" number="{Menge}" unit="{Meins}"/>
            <ObjectNumber id="_IDGenObjectNumber1" number="{Importe}" unit="{Moneda}"/>
            <ObjectIdentifier id="_IDGenObjectIdentifier2" title="{Werks}"/>
          </ColumnListItem>
          -->
        </items>
      </Table>

      <!-- Acción principal -->
      <Bar id="_IDGenBar1" design="Footer">
        <contentRight>
          <Button id="_IDGenButton" text="Liberar contrato" type="Accept" icon="sap-icon://accept" press=".onRelease"/>
        </contentRight>
      </Bar>
    </content>
  </Page>
</mvc:View>
